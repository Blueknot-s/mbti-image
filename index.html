<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MBTI ê¶í•© ê°ì„± ì´ë¯¸ì§€ ìƒì„±ê¸°</title>
  <style>
    body { font-family: 'Arial', sans-serif; background: #f4f4f4; padding: 20px; }
    .container { max-width: 600px; margin: auto; background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
    h2 { color: #2c4ecf; }
    select, button { width: 100%; padding: 10px; margin: 10px 0; border-radius: 8px; border: 1px solid #ccc; }
    .result { margin-top: 20px; }
    .hearts { font-size: 20px; color: red; }
    .image-preview { margin-top: 10px; text-align: center; }
    .image-preview img { max-width: 100%; border-radius: 12px; }
    .emotion { font-weight: bold; color: #555; margin-top: 10px; }
    .buttons { display: flex; gap: 10px; justify-content: center; margin-top: 10px; }
  </style>
</head>
<body>
  <div class="container">
    <h2><strong>MBTI ê¶í•© í…ŒìŠ¤íŠ¸ âœ¨ ê°ì„± ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ ì„ íƒ</strong></h2>

    <label for="mbti1">ë‚˜ì˜ MBTI</label>
    <select id="mbti1"></select>

    <label for="mbti2">ìƒëŒ€ì˜ MBTI</label>
    <select id="mbti2"></select>

    <label for="style">ê°ì„± ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼</label>
    <select id="style">
      <option value="line-art">ë¼ì¸ ì•„íŠ¸ (line-art)</option>
      <option value="watercolor">ìˆ˜ì±„í™” (watercolor)</option>
      <option value="ghibli">ì§€ë¸Œë¦¬í’ (ghibli style)</option>
    </select>

    <button onclick="generateMatch()">ê¶í•© ë³´ê¸°</button>

    <div class="result" id="result"></div>
  </div>

  <script>
    const mbtis = ["ISTJ","ISFJ","INFJ","INTJ","ISTP","ISFP","INFP","INTP",
                    "ESTP","ESFP","ENFP","ENTP","ESTJ","ESFJ","ENFJ","ENTJ"];

    const select1 = document.getElementById('mbti1');
    const select2 = document.getElementById('mbti2');
    mbtis.forEach(mbti => {
      select1.innerHTML += `<option value="${mbti}">${mbti}</option>`;
      select2.innerHTML += `<option value="${mbti}">${mbti}</option>`;
    });

    function generateMatch() {
      const mbti1 = select1.value;
      const mbti2 = select2.value;
      const style = document.getElementById('style').value;

      const score = Math.floor(Math.random() * 6) + 5; // 5~10ì  ëœë¤
      const hearts = 'â¤ï¸'.repeat(score) + 'ğŸ¤'.repeat(10 - score);
      const messages = [
        "ë‘ ì‚¬ëŒì€ ì„œë¡œë¥¼ ë³´ì™„í•˜ë©° ì„±ì¥í•  ìˆ˜ ìˆì–´ìš”.",
        "ì„œë¡œ ë‹¤ë¥¸ ì ì´ ì˜¤íˆë ¤ ë§¤ë ¥ í¬ì¸íŠ¸!",
        "ë¹„ìŠ·í•œ ì„±í–¥ìœ¼ë¡œ ê¹Šì€ êµê°ì„ ë‚˜ëˆŒ ìˆ˜ ìˆì–´ìš”.",
        "ì–´ì©Œë©´ ì²˜ìŒì—” ë‹¤íˆ¼ë„, í•˜ì§€ë§Œ ì‹œê°„ì´ ë‹µì´ì—ìš”.",
        "ìš´ëª…ì ì¸ ì¼€ë¯¸, ì˜í™” ì† ì£¼ì¸ê³µì²˜ëŸ¼ ì–´ìš¸ë ¤ìš”!"
      ];
      const msg = messages[Math.floor(Math.random() * messages.length)];

      const prompt = `${style} illustration of ${mbti1} and ${mbti2} couple`;
      const imgUrl = `https://dummyimage.com/512x512/eeeeee/000000&text=${mbti1}+%E2%9D%A4+${mbti2}`;

      document.getElementById('result').innerHTML = `
        <p><strong>ê¶í•© ì ìˆ˜:</strong> <span class="hearts">${hearts}</span></p>
        <p class="emotion">${msg}</p>
        <div class="image-preview">
          <img src="${imgUrl}" alt="MBTI ê°ì„± ì´ë¯¸ì§€" />
        </div>
        <div class="buttons">
          <button onclick="copyImageUrl('${imgUrl}')">ê³µìœ </button>
          <button onclick="downloadImage('${imgUrl}')">ë‹¤ìš´ë¡œë“œ</button>
        </div>
      `;
    }

    function copyImageUrl(url) {
      navigator.clipboard.writeText(url).then(() => alert("ì´ë¯¸ì§€ ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!"));
    }

    function downloadImage(url) {
      const a = document.createElement('a');
      a.href = url;
      a.download = 'mbti-image.png';
      a.click();
    }
  </script>
</body>
</html>
